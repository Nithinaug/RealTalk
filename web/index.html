<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>RealTalk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@500;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
</head>

<body>
  <div id="auth-container" class="auth-wrapper">
    <div class="auth-card">
      <div class="auth-header">
        <div class="app-icon">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="#22c55e" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" />
          </svg>
        </div>
        <h1>RealTalk</h1>
      </div>
      <div id="login-form">
        <div class="input-group">
          <label for="login-username">Username</label>
          <input type="text" id="login-username" name="username" autocomplete="username"
            placeholder="Enter your username">
        </div>
        <div class="input-group">
          <label for="login-password">Password</label>
          <div class="password-field">
            <input type="password" id="login-password" name="password" autocomplete="current-password"
              placeholder="Enter your password">
            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#94a3b8"
              stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
          </div>
        </div>
        <button id="login-button" class="btn-primary">
          <span class="btn-text">Login</span>
          <div class="loader" style="display: none;"></div>
        </button>
        <p class="auth-switch">Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
      </div>
      <div id="signup-form" style="display: none;">
        <div class="input-group">
          <label for="signup-username">Username</label>
          <input type="text" id="signup-username" name="username" autocomplete="new-username"
            placeholder="Pick a username">
        </div>
        <div class="input-group">
          <label for="signup-password">Password</label>
          <input type="password" id="signup-password" name="password" autocomplete="new-password"
            placeholder="Create a password">
        </div>
        <button id="signup-button" class="btn-primary">
          <span class="btn-text">Sign Up</span>
          <div class="loader" style="display: none;"></div>
        </button>
        <p class="auth-switch">Already have an account? <a href="#" id="show-login">Login</a></p>
      </div>
    </div>
  </div>
  <div id="main-chat" class="chat-wrapper" style="display: none;">
    <header class="chat-header">
      <div class="chat-info">
        <h2>Chat</h2>
        <div class="status-badge">
          <span class="status-dot"></span>
          <span id="online-count">0 online</span>
        </div>
      </div>
      <div class="header-actions">
        <span id="display-name" class="username-pill"></span>
        <button id="clear-chat-button" class="btn-icon" title="Clear Chat">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path
              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
        </button>
        <button id="logout-button" class="btn-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9" />
          </svg>
        </button>
      </div>
    </header>
    <main class="chat-layout">
      <section class="messages-container">
        <div id="chatMessages" class="messages-list"></div>
        <div class="input-area">
          <div class="input-wrapper">
            <input id="chatInput" placeholder="Type a message..." autocomplete="off">
            <button id="send-btn" class="btn-send">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
                <path d="M22 2L11 13M22 2L15 22L11 13M11 13L2 9L22 2" />
              </svg>
            </button>
          </div>
        </div>
      </section>
      <aside class="online-users-panel">
        <div class="panel-header">
          <h3>Online Users</h3>
        </div>
        <div id="onlineUsers" class="users-list"></div>
      </aside>
    </main>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/static/config.js"></script>
  <script src="/static/app.js"></script>
</body>

</html>